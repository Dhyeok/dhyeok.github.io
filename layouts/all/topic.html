{{ define "main" }}
<div class="medium-feed">
  {{ $topic := .Params.topic }}
  <section class="home-hero">
    <h1>{{ $topic }}</h1>
    <p>{{ $topic }} 카테고리 포스트 모음</p>
  </section>

  {{ $posts := where (where site.RegularPages "Section" "posts") "Params.categories" "intersect" (slice $topic) }}
  {{ $sorted := $posts.ByDate.Reverse }}

  {{ if gt (len $sorted) 0 }}
    {{ range $sorted }}
      {{ partial "post-feed-item.html" . }}
    {{ end }}
  {{ else }}
    <p>아직 {{ $topic }} 카테고리 포스트가 없습니다.</p>
  {{ end }}
</div>
{{ end }}
