{{ define "main" }}
<main class="main">
  <header class="page-header">
    <h1>Latest Posts</h1>
    <div class="post-description">최신 포스팅 5개</div>
  </header>

  {{ $posts := where site.RegularPages "Section" "posts" }}
  {{ $latest := first 5 ($posts.ByDate.Reverse) }}

  {{ if gt (len $latest) 0 }}
    {{ range $latest }}
      <article class="post-entry">
        <header class="entry-header">
          <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
        </header>
        <div class="entry-content">
          {{ with .Summary }}<p>{{ . }}</p>{{ else }}<p>{{ .Plain | truncate 180 }}</p>{{ end }}
        </div>
        <footer class="entry-footer">
          <span>{{ .Date | time.Format "2006-01-02" }}</span>
          {{ with .Params.categories }}
            <span> · {{ delimit . ", " }}</span>
          {{ end }}
        </footer>
      </article>
    {{ end }}
  {{ else }}
    <p>아직 게시된 글이 없습니다.</p>
  {{ end }}
</main>
{{ end }}
